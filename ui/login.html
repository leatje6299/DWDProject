<div style="display: flex;flex-direction: column;justify-content: center;width: 100vw;align-items: center;">
  <h2>login to get started</h2>
  <form id="loginForm" class="input-group" name="login" method="post" action="{{ @BASE }}/login" novalidate>
    <div class="input-field">
      <label for="username">username</label>
      <input type="text" class="input-box" id="username" name="username" required>
    </div>
    <div class="input-field">
      <div id="email-field"  style="display: none;width: 100%">
        <label for="email">e-mail</label>
        <input type="text" class="input-box" id="email" name="email" >
      </div>
    </div>
    <div class="input-field">
      <label for="logPassword">password</label>
      <input type="password" class="input-box" id="logPassword" name="password" required>
      <div class="eye-area">
        <div class="eye-box" onclick="MyLogPassword">
          <i class="fa-regular fa-eye" id="eye"></i>
          <i class="fa-regular fa-eye" id="eye-slash"></i>
        </div>
      </div>
    </div>
    <div class="remember">
      <input type="checkbox" id="formCheck" class="check">
      <label for="formCheck">Remember Me</label>
    </div>
    <p class="errorNote"> </p>
    <div class="button-field">
      <input type="submit" class="floating-btn" value="Sign In">
      <input type="submit" id="sign-up-button" class="floating-btn" style="display: none;" value="Sign Up">
    </div>
  </form>
  <button class="floating-btn" id="create-account-button" style="margin-top: 16px;">Create an account</button>
</div>
<script>

  var baseUrl = 'https://hamasahdinillah.edinburgh.domains/Third_Place/DWDProject';


  $('#loginForm').on('submit', function (e) {
    e.preventDefault();
    $.ajax({
      url: $(this).attr('action'),
      type: 'POST',
      data: $(this).serialize(),
      success: function () {
        console.log("Login Successful");
        window.location.href = baseUrl + '/map';
      },
      error: function (jqXHR) {
        console.log(jqXHR.responseText);
        var error = JSON.parse(jqXHR.responseText);
        $('.errorNote').text(error.error);
      }
    })
  })
  $('#registerForm').on('submit', function (e) {
    e.preventDefault();
    $.ajax({
      url: $(this).attr('action'),
      type: 'POST',
      data: $(this).serialize(),
      success: function () {
        console.log("Register Successful");
        window.location.href = baseUrl + '/map';
        console.log(baseUrl + '/map');
      },
      error: function (jqXHR) {
        console.log(jqXHR.responseText);
        var error = JSON.parse(jqXHR.responseText);
        $('.errorNote').text(error.error);
      }
    })
  })

  $('#create-account-button').click(function () {
    $(this).hide();
    $('#sign-up-button').show();
    $('#email-field').show();
    $('#loginForm').attr('id', 'registerForm');
    $('#registerForm').attr('action', '{{ @BASE }}/register');
  });

  // $('#sign-up-button').click(function () {
  //   $(this).hide();
  //   $('#create-account-button').show();
  //   $('#email-field').hide();
  // });
</script>