<html>

<head>
    <meta charset='utf8' />
    <link rel="stylesheet" type="text/css" href="style/home.css">
    <link rel="stylesheet" type="text/css" href="style/map.css">
    <script src="libraries/GSAP/gsap.min.js"></script>
    <script src="libraries/GSAP/Draggable.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
</head>

<body>
    <div class="navbar-container">
        <div class="navbar">
            <div class="navbar-section">
                <p>website name</p>
            </div>
            <div class="navbar-section">
                <ul>
                    <li><a href="{{ @BASE }}/">HOME</a></li>
                    <li><a href="{{ @BASE }}/map">MAP</a></li>
                    <li><a href="{{ @BASE }}/report">REPORT</a></li>
                </ul>
            </div>
            <div class="navbar-section">
                <check if="{{ @SESSION.username=='UNSET' }}">
                    <false>
                        <p> Logged in as {{ @SESSION.username }}.
                        <form method=post action="{{ @BASE }}/account">
                            <input type="submit" name="submit" value="Account">
                        </form>
                        </p>
                    </false>
                    <true>
                        <check if="{{ @thisIsLoginPage=='true' }}">
                            <true>
                                <include href="{{ @content }}" />
                            </true>
                            <false>
                                <a href="{{ @BASE }}/login">LOG IN</a>
                            </false>
                        </check>
                    </true>
                </check>
            </div>
        </div>
    </div>
    <div id="container">
        <div class="map">
            <repeat group="{{ @thirdplacesData }}" value="{{ @place }}">
                <div class="pin" style="left: {{ @place.position_x }}px; top: {{ @place.position_y }}px;"
                    onclick="openModal('{{@place.name}}')">
                    <!--                add amount of notes in a place-->
                    <p class="pin-number">5</p>
                </div>
            </repeat>
        </div>
        <div class="search-container">
            <button class="add-location-btn">+</button>
            <input class="location-input" type="text">
        </div>
    </div>

    <div id="modal">
        <div>
            <p id="modal-content">Placeholder</p>
        </div>
        <div class="form">
            <form id="notes" name="notes" method="post" action="{{@BASE}}/submitReason">
                <input type="hidden" id="thirdplace_name" name="thirdplace">
                <input type="text" id="reason" name="reason" placeholder="Write your reason here..." required>
                <button type="submit" class="submit-btn" value="reason">Submit</button>
                <p class="errorNote"> {{ @error }} </p>
            </form>
        </div>
        <button class="submit-btn" onclick="closeModal()">Close</button>
    </div>
</body>

<script src="javascript/map.js"></script>

</html>